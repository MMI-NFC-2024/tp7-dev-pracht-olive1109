---
import Layout from "../layouts/Layout.astro";
---
<Layout>
  <h1 class="text-2xl font-bold mb-6">Graphique Penguins (test)</h1>
  <div id="plot-penguins"></div>

  <script type="module">
    // utilise la version ESM CDN de Plot
    import * as Plot from "https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6/+esm";
    // fetch la donnÃ©e depuis public/assets
    const penguins = await fetch("../assets/penguins.json").then(r => r.json());

    const fig = Plot.plot({
      marks: [
        Plot.dot(penguins, {
          x: "culmen_length_mm",
          y: "culmen_depth_mm",
          stroke: "species",
        }),
      ],
      height: 480,
      marginLeft: 60,
      marginBottom: 60,
      title: "Culmen length vs depth",
      caption: "Source : penguins.json",
      ariaLabel: "Nuage de points Penguins"
    });
    document.getElementById("plot-penguins").appendChild(fig);
  </script>
</Layout>